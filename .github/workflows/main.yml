name: Label Discarded Issue

on:
  issues:
    types: [closed]

jobs:
  labelIssue:
    runs-on: ubuntu-latest
    steps:
    - name: Label as Discarded
      uses: actions/github-script@v7
      with:
        github-token: ${{secrets.GITHUB_TOKEN}}
        script: |
          const issueNumber = context.issue.number;
          const repoOwner = context.repo.owner;
          const repoName = context.repo.repo;
          await github.rest.issues.addLabels({
            owner: repoOwner,
            repo: repoName,
            issue_number: issueNumber,
            labels: ['discarded']
          });
